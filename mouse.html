<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Incremento corto Y</title>
<style>
  body { margin:0; background:black; color:white; font-family:Arial,sans-serif; }
  video { width:100vw; height:100vh; object-fit:cover; display:block; }
  .coords { position:fixed; top:20px; left:20px; background:rgba(0,0,0,0.6); padding:8px 12px; border-radius:6px; font-size:1em; }
  .increment { position:fixed; top:60px; left:20px; background:rgba(0,0,0,0.6); padding:8px 12px; border-radius:6px; font-size:1em; }
</style>
</head>
<body>

<video id="tv-video" autoplay muted loop>
  <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
</video>

<div class="coords" id="coords">Y: 0</div>
<div class="increment" id="increment">Incremento total: 0</div>

<script>
// --- Variables de coordenadas
let lastY = null;
let lastTime = null;
let totalIncrement = 0;

const MAX_SMALL_INCREMENT = 35; // máximo incremento considerado "pequeño"
const MAX_INTERVAL = 1000;       // 1 segundo entre movimientos pequeños

const coords = document.getElementById("coords");
const incrementLabel = document.getElementById("increment");

document.addEventListener("mousemove", (e) => {
  const now = Date.now();
  coords.textContent = `Y: ${e.clientY}`;

  if (lastY !== null && lastTime !== null) {
    const deltaY = e.clientY - lastY;
    const elapsed = now - lastTime;

    // Solo considerar incrementos pequeños y rápidos
    if (Math.abs(deltaY) > 0 && Math.abs(deltaY) < MAX_SMALL_INCREMENT && elapsed <= MAX_INTERVAL) {
      totalIncrement += deltaY;
      incrementLabel.textContent = `Incremento total: ${totalIncrement}`;
    }
  }

  lastY = e.clientY;
  lastTime = now;
});
</script>
</body>
</html>
